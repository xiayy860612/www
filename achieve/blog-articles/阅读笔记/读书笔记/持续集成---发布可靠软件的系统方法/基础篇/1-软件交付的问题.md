# 软件交付的问题

部署流水线指一个应用程序从构建, 部署, 测试到发布这整个过程的自动化实现.

简单的部署流水线:

1. 提交阶段: 编译, 单元测试, 分析, 构建安装包
2. 自动化验收测试
3. [自动化容量测试]()
4. 手工测试, 演示, 探索性测试
5. 发布

部署流水线以持续集成为理论基石, 它是采纳CI原理后的自然结果.

部署流水线的目标:

- 让整个流水线的过程对所有人可见, 促进合作
- 改善反馈, 以便在整个过程中, 能够更早的发现并解决问题
- 通过完全自动化的过程, 在任意环境上部署和发布软件的任意版本

## 反模式的场景

- 手工发布模式, 极易出错
- 开发完成后才向类生产环境部署, 对即将进入生产环境的功能验证滞后
- 生产环境的手工配置管理, 易出错, 且风险大

建议:

- 部署过程完全自动化
- 将测试, 部署和发布活动也纳入到开发过程中
- 能够通过自动化的手段重建生产环境
- 完全掌握生产环境中的配置, 即每次修改都能够被跟踪
- 只允许自动化过程来改变各个环境
- 通过同一个自动化过程将系统回滚

## 如何实现流水线

一键式软件发布就是指使用部署流水线, 将**高度自动化**的**测试**和**部署**以及全面的**配置管理**结合在一起.
目标是尽快向用户交付有用的可工作的软件.

- 减少周期时间并建立有效反馈环
- 保证交付质量

反馈的3个标准:

- 任何修改都应该触发反馈流程
- 反馈应该尽快发出
- 交付团队必须接收反馈, 并作出相应行动

一个可工作的软件包括以下几个部分:

- 代码
- 配置
- 运行环境, 包括硬件, 基础设施和操作系统
- 数据, 包括数据库等存储

## 软件交付的原则

- 为软件发布创建一个可重复且可靠的过程
  - 近乎完全的自动化
  - 尽量将软件相关的所有内容全部纳入版本管理
- 持续改进, 提前并频繁的做让你感到痛苦的事
- 内建质量
- 任务完成意味着已发布

戴明环: 计划-执行-检查-处理(PDCA)

## Reference


---

[自动化容量测试]: asdfas
